"use strict";var btn=document.querySelector(".add-btn"),inputBox=document.getElementById("to-do"),toDoList=document.querySelector(".to-do-list"),listToDo=[];function appendFunction(t,e,o){var i=document.createElement("div");i.classList.add("item");var n=document.createElement("IMG");n.setAttribute("src","./images/trash.svg"),n.setAttribute("alt","Delete"),n.setAttribute("width","20px");var r=document.createElement("IMG");r.setAttribute("src","./images/trash.svg"),r.setAttribute("alt","Edit"),r.setAttribute("width","20px");var a=document.createElement(t);a.innerHTML=e,i.appendChild(a),i.appendChild(n),i.appendChild(r),o.appendChild(i)}function createAndCheckLocalStorageArray(){null===localStorage.getItem("listToDo")?localStorage.setItem("listToDo",JSON.stringify(listToDo)):(listToDo=JSON.parse(localStorage.getItem("listToDo"))).forEach(function(t){appendFunction("li",t,toDoList)})}function addItemToList(t){t.preventDefault();var e=inputBox.value;""!==e&&null!=e?(listToDo.push(e),localStorage.setItem("listToDo",JSON.stringify(listToDo)),appendFunction("li",e,toDoList),inputBox.value="",toDoList.querySelector(".error").classList.remove("open")):toDoList.querySelector(".error").classList.add("open")}function deleteItems(t){var e=t.target;if("IMG"===e.tagName&&"Delete"===e.alt){var o=listToDo.indexOf(e.previousElementSibling.innerHTML);e.parentNode.remove(),listToDo.splice(o,1),localStorage.setItem("listToDo",JSON.stringify(listToDo))}}function editItems(t){var e=t.target,o=e.parentNode.childNodes[0],i=e.closest(".item"),n=Array.from(i.closest("ul").children).indexOf(i)-1;"editable"===e.id?(o.contentEditable="false",e.setAttribute("id",""),listToDo[n]=o.innerHTML,localStorage.setItem("listToDo",JSON.stringify(listToDo))):"IMG"===e.tagName&&"Edit"===e.alt&&(o.contentEditable="true",o.focus(),e.setAttribute("id","editable"))}createAndCheckLocalStorageArray(),btn.addEventListener("click",addItemToList),toDoList.addEventListener("click",deleteItems),toDoList.addEventListener("click",editItems),inputBox.addEventListener("keydown",function(t){"Enter"===t.key&&(t.preventDefault(),addItemToList(t))});