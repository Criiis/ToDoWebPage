"use strict";var btn=document.querySelector(".add-btn"),inputBox=document.getElementById("to-do"),toDoList=document.querySelector(".to-do-list"),listToDo=[];function appendFunction(t,e,o){var i=document.createElement("div");i.classList.add("item");var a=document.createElement("I");a.classList.add("fas","fa-trash");var n=document.createElement("I");n.classList.add("fas","fa-edit");var s=document.createElement(t);s.innerHTML=e,i.appendChild(s),i.appendChild(n),i.appendChild(a),o.appendChild(i)}function createAndCheckLocalStorageArray(){null===localStorage.getItem("listToDo")?localStorage.setItem("listToDo",JSON.stringify(listToDo)):(listToDo=JSON.parse(localStorage.getItem("listToDo"))).forEach(function(t){appendFunction("li",t,toDoList)})}function addItemToList(t){t.preventDefault();var e=inputBox.value;""!==e&&null!=e?(listToDo.push(e),localStorage.setItem("listToDo",JSON.stringify(listToDo)),appendFunction("li",e,toDoList),inputBox.value="",toDoList.querySelector(".error").classList.remove("open")):toDoList.querySelector(".error").classList.add("open")}function deleteItems(t){var e=t.target;if("I"===e.tagName&&"fa-trash"===e.classList[1]){var o=listToDo.indexOf(e.parentNode.childNodes[0].innerHTML);e.parentNode.remove(),listToDo.splice(o,1),localStorage.setItem("listToDo",JSON.stringify(listToDo))}}function editItems(t){var e=t.target,o=e.previousElementSibling;if("editable"===e.id){var i=e.closest(".item"),a=Array.from(i.closest("ul").querySelectorAll("div.item")).indexOf(i);o.contentEditable="false",listToDo[a]=o.innerHTML,e.setAttribute("id",""),localStorage.setItem("listToDo",JSON.stringify(listToDo))}else"I"===e.tagName&&"fa-edit"===e.classList[1]&&(o.contentEditable="true",o.focus(),e.setAttribute("id","editable"))}createAndCheckLocalStorageArray(),btn.addEventListener("click",addItemToList),toDoList.addEventListener("click",deleteItems),toDoList.addEventListener("click",editItems),inputBox.addEventListener("keydown",function(t){"Enter"===t.key&&(t.preventDefault(),addItemToList(t))});